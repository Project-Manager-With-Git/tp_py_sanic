from sanic.request import Request
from sanic.server.websockets.connection import WebSocketConnection


async def {{ source }}(request: Request, ws: WebSocketConnection) -> None:
    while True:
        data = await ws.recv()
        if data:
            await ws.send(data)
            print(f'Received: {data}')
